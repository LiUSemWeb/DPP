# CQ: If the product contains at least one substance of concern, how many and what kind of substances of concern?
# Number of distinct substances of concern per product
SELECT ?product (COUNT(DISTINCT ?substance) AS ?count)
WHERE {
    ?product a dpp-odp:Product ;
        dpp-odp:hasPart ?substance .
    ?substance a/rdfs:subclassOf* dpp-comp:SubstanceOfConcern . 
}
GROUP BY ?product